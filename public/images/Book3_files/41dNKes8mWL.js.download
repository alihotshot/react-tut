(function(q){var b=window.AmazonUIPageJS||window.P,r=b._namespace||b.attributeErrors,k=r?r("DetailPageLookInsideAssets",""):b;k.guardFatal?k.guardFatal(q)(k,window):k.execute(function(){q(k,window)})})(function(q,b,r){function k(h){b.ue&&b.ue.count&&b.ue.tag&&(ue.count(h,0),ue.tag(E()))}function l(h){if("undefined"!==typeof h){var e=b.ue;if(e&&e.count&&e.tag){var c=e.count(h)||0;e.count(h,c+1);e.tag(E())}}}function E(){var b=/ipad|tablet/i.test(navigator.userAgent);return/mobile/i.test(navigator.userAgent)&&
!b?"mobile":b?"tablet":"desktop"}function V(b,e){var c={};var f=W.COUNT;f={Timestamp:Date.now(),CloudWatchMetrics:[{Namespace:"LITB",Dimensions:[["region"],["marketplace"],["platform"]],Metrics:[{Name:b,Unit:f}]}]};c._aws=f;c.region=e.region;c.marketplace=e.marketplace;c.platform=E();c[b]=1;return{logs:[{level:"info",message:b,context:{emfLog:c,logTime:Date.now()}}]}}q.when("A","jQuery","ebooksImageBlockATF","cf").execute(function(h,e,c){function f(){k("litbReaderIframeSrcNotAvailable");k("litbReaderIframeContentWindowNotAvailable");
k("litbStickerClickedOnKindleBook");k("bookImageClickedOnKindleBook");H();L.addClass("image-2d");if(c&&c.litbData&&c.litbData.hasLitb&&c.litbData.litbReftag){L.addClass("clickableImage");var a=document.getElementById("litb-read-frame");a&&a.dataset&&a.dataset.src?a.src=a.dataset.src:l("litbReaderIframeSrcNotAvailable");c.litbData.showNewDesktopLitb&&a?(y.click(function(a){m(!0);n(a.target)&&(l("litbStickerClickedOnKindleBook"),d.incrementMetric("litbStickerClickedOnKindleBook"))}),b.addEventListener("popstate",
X,!1),b.addEventListener("message",t,!1),u(),a=v(b.location.search),a.asin&&a.format&&m(!1)):y.click(function(a){R(!0);n(a.target)&&l("litbStickerClickedOnKindleBook")})}e(b).resize(q)}function n(a){return a&&("ebooksSitbLogoImg"===a.getAttribute("id")||"ebooksSitbLogo"===a.getAttribute("id"))}function u(){var a=document.getElementById("litb-read-frame");if(a&&a.contentWindow){if(D){a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");return}a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),
"*");if(S>T)return;S++}else a&&l("litbReaderIframeContentWindowNotAvailable");setTimeout(u,N)}function m(a){U++;D?R(a):U>T||setTimeout(function(){m(a)},N)}function R(a){l("bookImageClickedOnKindleBook");d.incrementMetric("bookImageClickedOnKindleBook");var g=document.getElementById("litb-read-frame");c.litbData&&c.litbData.showNewDesktopLitb&&g&&g.contentWindow?(a=JSON.stringify({command:"initializeLITB",time:Date.now(),search:b.location.search,newSession:a}),g.contentWindow.postMessage(a,"*"),B(),
g.focus()):(g&&!g.contentWindow&&l("litbReaderIframeContentWindowNotAvailable"),"undefined"!=typeof SitbReader&&SitbReader.LightboxActions.openReader(c.litbData.litbReftag))}function X(){var a=document.getElementById("litb-read-frame");c.litbData&&c.litbData.showNewDesktopLitb&&a&&a.contentWindow?(I||!F()&&!C||(B(),a.contentWindow.postMessage(JSON.stringify({command:"updateLITB",search:b.location.search}),a.src)),I=!1):a&&l("litbReaderIframeContentWindowNotAvailable");C||w()}function B(){var a=document.getElementById("litb-read-frame");
if(a){Q=b.scrollY;var d=document.body;d.style.position="fixed";d.style.top="-"+Q+"px";d.style.right="0";d.style.left="0";a.style.cssText="position:fixed; width:100%; height:100%; top:0px; left:0px; z-index:1000; display: block; border: 0 none;";C=!0}}function z(a){var d=document.getElementById("litb-read-frame");d&&(d.style.cssText="display: none",d=document.body,d.style.position="",d.style.top="",d.style.right="",d.style.left="",b.scrollTo(0,parseInt(Q||"0",10)),C=!1,a&&w())}function w(){F()&&b.history.replaceState({},
document.title,b.location.origin+b.location.pathname+G()+b.location.hash)}function t(a){var d;if(d="string"===typeof a.data)try{JSON.parse(a.data),d=!0}catch(ba){d=!1}d&&(a=JSON.parse(a.data),d=a.command,"closeLITB"===d?a.depth?(I=!0,b.history.go(-1*a.depth),z(!1)):z(!0):"updateLITB"===d&&a.search?(d=v(b.location.search),b.history.pushState({},document.title,b.location.origin+b.location.pathname+A(a.search)+b.location.hash),d.asin!==a.search.asin&&b.dispatchEvent(new PopStateEvent("popstate"))):"readyLITB"===
d?D=!0:"reloadLITB"===d&&b.location.reload())}function H(){var a=K.outerWidth(),d=K.outerHeight(),g=O.outerHeight()-(O.outerHeight()-K.outerHeight())/2;L.width(a).height(d);K.css({position:"relative",top:"0",left:"0"});r.height(g);(b.innerWidth||document.body.offsetWidth)<c.windowWidthThreshold&&q()}function q(){var a=b.innerWidth||document.body.offsetWidth;if(!(0>=a))if(a>c.windowWidthThreshold){a=c.configWidths[1];var d=a/c.holderRatio,g=c.frontImageWidth,x=c.frontImageHeight;J(a,d,g,x)}else a<
c.windowWidthThreshold&&(a=c.configWidths[0],d=a/c.holderRatio,c.frontImageAspectRatio>c.holderRatio?(g=a,x=g/c.frontImageAspectRatio):(x=d,g=x*c.frontImageAspectRatio),J(a,d,g,x))}function J(a,d,b,g){if(0<a&&0<d&&0<b&&0<g){M.length&&E.length&&(M.css("margin-left",a+c.centerColMargin).removeClass("centerColumn"),E.width(a));var x=d+c.containerMargin;y.width(a).height(x);K.width(b).height(g);L.width(b).height(g);r.height(d-(d-K.outerHeight())/2);e(this).trigger("imageResize")}}function v(a){var d=
{};0<a.length&&a.substr(1).split("\x26").forEach(function(a){a=a.split("\x3d");2===a.length&&(d[a[0]]=a[1])});return d}function p(a){var d="";Object.keys(a).forEach(function(b){0<d.length&&(d+="\x26");d+=b+"\x3d"+a[b]});return d}function A(a){if(b.location.search){var d=v(b.location.search);d.asin=a.asin;d.revisionId=a.revisionId;d.format=a.format;d.depth=a.depth;a=p(d)}else a=p(a);return"?"+a}function G(){var a="";b.location.search&&(a=v(b.location.search),delete a.asin,delete a.revisionId,delete a.format,
delete a.depth,a=p(a));return"?"+a}function F(){var a=v(b.location.search);return a.asin&&a.format}var I=!1,D=!1,C=!1,y=e("#ebooksImageBlock"),g=e("#ebooksImgBlkFront"),x=e("#ebooksImgBlockInlineVideo"),a=e("#ebooksImgBlockInlineVideoSrc"),d=new P(h,e,c);if(y.length){var O=y.find("#ebooks-img-wrapper"),r=y.find("#ebooksImageBlockContainer"),L=y.find("#ebooks-img-canvas"),K=L.find(".frontImage"),E=e("#leftCol"),M=e("#centerCol");f()}else throw Error("Element with id imageBlock is missing");h.on("a:image:load",
function(d){x.length&&a.length&&c.hasCoverImageInlineVideo&&(g.hide(),x.show())});h.loadDynamicImage(g);var N=100,T=50,S=0,U=0,Q=0});q.when("A","jQuery","ImageBlockATF","cf").execute(function(h,e,c){function f(){var e=b.innerWidth||document.body.offsetWidth;if(!(0>=e))if(e>c.windowWidthThreshold&&m.width()<=c.configWidths[0]){e=c.configWidths[1];var f=e/c.holderRatio,h=c.frontImageWidth,u=c.frontImageHeight;n(e,f,h,u)}else e<c.windowWidthThreshold&&m.width()>c.configWidths[0]&&(e=c.configWidths[0],
f=e/c.holderRatio,c.frontImageAspectRatio>c.holderRatio?(h=e,u=h/c.frontImageAspectRatio):(u=f,h=u*c.frontImageAspectRatio),n(e,f,h,u))}function n(b,f,h,n){if(0<b&&0<f&&0<h&&0<n){J.css("margin-left",b+c.centerColMargin).removeClass("centerColumn");r.css("width",b);var A=f+c.containerMargin+c.flipLinkMinHeight+c.litbHeight;m.css("width",b).css("height",A);u(h,n);k.css("height",f+c.litbHeight-(f+c.litbHeight-t.outerHeight())/2);e(this).trigger("imageResize")}}function u(b,c){t.css("width",b).css("height",
c);b=t.width();c=t.height();B.css("width",b).css("height",c);p.resizeCanvas(b);"undefined"!==typeof z&&0<z.length&&(z.css("width",b).css("height",c),w.css("height",c),isShowing3D&&q&&(c=w.width(),v=(b-c)/2-2,w.removeClass("ieTransition").css("left",(b-c)/2),w.css("transform","perspective(3000px) rotateY(-65deg) translateZ("+v+"px)"),h.delay(function(){w.addClass("ieTransition")},10)))}var m=e("#imageBlock"),l=m.find("#img-wrapper"),k=m.find("#imageBlockContainer"),B=m.find("#img-canvas"),z=B.find(".backImage"),
w=B.find(".sideImage"),t=B.find(".frontImage"),q=e.browser.msie||!!navigator.userAgent.match(/Trident/),r=e("#leftCol"),J=e("#centerCol"),v=0,p=new M(h,e,m,c,!0);p.initializeMetrics();(function(){if(t.offset()){var b=l.outerHeight()-(l.outerHeight()-t.outerHeight())/2,c=w.outerWidth();l.css("position","relative");t.css({position:"relative",top:"0",left:"0"});z.css("position","absolute").css("top","0").css("left","0");w.css("position","absolute").css("top","0").css("left","-"+c+"px");k.css("height",
b)}})();B.addClass("image-2d");p.initializeSticker("front");c.disableResize||e(b).resize(f)});q.when("a-modal-handlers").execute("mark-booksimageblock-interactive-time",function(){"function"===typeof b.markFeatureInteractive&&b.markFeatureInteractive("booksImageBlock",{hasComponents:!0,components:[{name:"thumbnail"}]})});q.when("A","jQuery","MinimalLITBImageBlockATF").execute(function(b,e,c){var f=e("#minimalImageBlock");b=new M(b,e,f,c,!1);b.initializeMetrics();b.initializeSticker(r)});var M=function(){return function(h,
e,c,f,n){function u(){var a=document.getElementById("litb-read-frame");if(a){if(D){a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");return}a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");if(50<y)return;y++}setTimeout(u,100)}function m(a,d){g++;D?q(a,d):50<g?l("litbReadyMaxAttempts"):setTimeout(function(){m(a,d)},100)}function q(a,d){l("litbStickerClickedOnPrintBook");F.incrementMetric("litbStickerClickedOnPrintBook");var c=document.getElementById("litb-read-frame");
f.litbData&&f.litbData.showNewDesktopLitb&&c?(a=JSON.stringify({command:"initializeLITB",time:Date.now(),search:b.location.search,newSession:a}),c.contentWindow.postMessage(a,"*"),w(),c.focus()):"undefined"!=typeof SitbReader&&(l("sitbReaderCodePathUsed"),"back"==d&&SitbReader.currentBook&&SitbReader.currentBook.bookmarks?(c=SitbReader.currentBook.bookmarks.getFirstAndLastPageNumberByName("Back Cover").first,a=SitbReader.currentBook.bookmarks.getFirstAndLastPageNumberByName("Back Flap").first,c?SitbReader.LightboxActions.openReaderToPage(c):
a?SitbReader.LightboxActions.openReaderToPage(a):SitbReader.LightboxActions.openReader(f.litbData.litbReftag)):SitbReader.LightboxActions.openReader(f.litbData.litbReftag))}function r(){H()&&b.history.replaceState({},document.title,b.location.origin+b.location.pathname+B()+b.location.hash)}function B(){var a="";b.location.search&&(a=p(b.location.search),delete a.asin,delete a.revisionId,delete a.format,delete a.depth,a=v(a));return"?"+a}function z(a){var d=document.getElementById("litb-read-frame");
d&&(d.style.cssText="display: none",d=document.body,d.style.position="",d.style.top="",d.style.right="",d.style.left="",b.scrollTo(0,parseInt(x||"0",10)),C=!1,a&&r())}function w(){var a=document.getElementById("litb-read-frame");if(a){x=b.scrollY;var d=document.body;d.style.position="fixed";d.style.top="-"+x+"px";d.style.right="0";d.style.left="0";a.style.cssText="position:fixed; width:100%; height:100%; top:0px; left:0px; z-index:1000; display: block; border: 0 none;";C=!0}}function t(){var a=document.getElementById("litb-read-frame");
f.litbData&&f.litbData.showNewDesktopLitb&&a&&(I||!H()&&!C||(w(),a.contentWindow.postMessage(JSON.stringify({command:"updateLITB",search:b.location.search}),a.src)),I=!1);C||r()}function H(){var a=p(b.location.search);return a.asin&&a.format}function E(a){var d;if(d="string"===typeof a.data)try{JSON.parse(a.data),d=!0}catch(O){d=!1}d&&(a=JSON.parse(a.data),d=a.command,"closeLITB"===d?a.depth?(I=!0,b.history.go(-1*a.depth),z(!1)):z(!0):"updateLITB"===d&&a.search?(d=p(b.location.search),b.history.pushState({},
document.title,b.location.origin+b.location.pathname+J(a.search)+b.location.hash),d.asin!==a.search.asin&&b.dispatchEvent(new PopStateEvent("popstate"))):"readyLITB"===d?D=!0:"reloadLITB"===d&&b.location.reload())}function J(a){if(b.location.search){var d=p(b.location.search);d.asin=a.asin;d.revisionId=a.revisionId;d.format=a.format;d.depth=a.depth;a=v(d)}else a=v(a);return"?"+a}function v(a){var d="";Object.keys(a).forEach(function(b){0<d.length&&(d+="\x26");d+=b+"\x3d"+a[b]});return d}function p(a){var d=
{};0<a.length&&a.substr(1).split("\x26").forEach(function(a){a=a.split("\x3d");2===a.length&&(d[a[0]]=a[1])});return d}n={};var A=c.find("#litb-canvas"),G=new N(h,e,f),F=new P(h,e,f),I=!1,D=!1,C=!1,y=0,g=0,x=0;n.initializeMetrics=function(){k("litbReadyMaxAttempts");k("litbReaderIframeSrcNotAvailable");k("sitbReaderCodePathUsed");k("litbStickerClickedOnPrintBook")};n.initializeSticker=function(a){if(f&&f.litbData&&(f.litbData.hasLitb&&f.litbData.litbReftag||f.litbData.showNewDesktopLitb)){A.addClass("litb-on-click");
A.click(m.bind(this,!0,a));var d=document.getElementById("litb-read-frame");d&&d.dataset&&d.dataset.src?d.src=d.dataset.src:l("litbReaderIframeSrcNotAvailable");f.litbData.showNewDesktopLitb&&d?(b.addEventListener("popstate",t,!1),b.addEventListener("message",E,!1),u(),d=p(b.location.search),d.asin&&d.format&&m(!1,a)):(G.triggerWeblab("K4W_LITB_PBOOK_MWEB_PRINT_REFLO_DPX_327005"),A.click(function(){q(this,!0,a)}));d={hasComponents:!0,components:[{name:"mainimage"}]};"function"===typeof b.markFeatureInteractive&&
b.markFeatureInteractive("booksImageBlock",d)}};n.resizeCanvas=function(a){A.css("width",a)};return n}}();q.when("A","jQuery","EbooksReadSample","cf").execute(function(b,e,c){(new Y(b,e,c)).setupInteractions(c)});q.when("A","jQuery","PbooksReadSample","cf").execute(function(b,e,c){var f=e("#imageBlock"),n=e("#pbooksReadSample");(new Z(b,e,f,c,n)).initializeSticker(r)});var Y=function(){return function(h,e,c){function f(){var a=document.getElementById("litb-read-frame");if(a&&a.contentWindow){if(A){a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),
"*");return}a.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");if(y>C)return;y++}else a&&l("litbReaderIframeContentWindowNotAvailable");setTimeout(f,D)}function n(a){g++;A?u(a):g>C||setTimeout(function(){n(a)},D)}function u(a){a&&(l("readSampleButtonClicked"),I.incrementMetric("readSampleButtonClicked"));var d=document.getElementById("litb-read-frame");d&&!d.contentWindow&&l("litbReaderIframeContentWindowNotAvailable");c.litbData&&c.litbData.showNewDesktopLitb&&d&&d.contentWindow?
(a=JSON.stringify({command:"initializeLITB",time:Date.now(),search:b.location.search,newSession:a}),d.contentWindow.postMessage(a,"*"),k(),d.focus()):c&&c.litbData&&c.litbData.hasLitb&&(b.smash?q.when("mash").execute(function(a){a.navigate({url:c.litbData.litbReaderUrl,transition:"slide"})}):b.location.href=c.litbData.litbReaderUrl)}function m(){var a=document.getElementById("litb-read-frame");c.litbData&&c.litbData.showNewDesktopLitb&&a&&a.contentWindow?(p||!z()&&!G||(k(),a.contentWindow.postMessage(JSON.stringify({command:"updateLITB",
search:b.location.search}),a.src)),p=!1):a&&l("litbReaderIframeContentWindowNotAvailable");G||B()}function k(){var a=document.getElementById("litb-read-frame");if(a){x=b.scrollY;var d=document.body;d.style.position="fixed";d.style.top="-"+x+"px";d.style.right="0";d.style.left="0";a.style.cssText="position:fixed; width:100%; height:100%; top:0px; left:0px; z-index:1000; display: block; border: 0 none;";G=!0}}function r(a){var d=document.getElementById("litb-read-frame");d&&(d.style.cssText="display: none",
d=document.body,d.style.position="",d.style.top="",d.style.right="",d.style.left="",b.scrollTo(0,parseInt(x||"0",10)),G=!1,a&&B())}function B(){z()&&b.history.replaceState({},document.title,b.location.origin+b.location.pathname+J())}function z(){var a=t(b.location.search);return a.asin&&a.format}function w(a){var d;if(d="string"===typeof a.data)try{JSON.parse(a.data),d=!0}catch(O){d=!1}d&&(a=JSON.parse(a.data),d=a.command,"closeLITB"===d?a.depth?(p=!0,b.history.go(-1*a.depth),r(!1)):r(!0):"updateLITB"===
d&&a.search?(d=t(b.location.search),b.history.pushState({},document.title,b.location.origin+b.location.pathname+E(a.search)),d.asin!==a.search.asin&&b.dispatchEvent(new PopStateEvent("popstate"))):"readyLITB"===d&&(A=!0))}function t(a){var d={};0<a.length&&a.substr(1).split("\x26").forEach(function(a){a=a.split("\x3d");2===a.length&&(d[a[0]]=a[1])});return d}function H(a){var d="";Object.keys(a).forEach(function(b){0<d.length&&(d+="\x26");d+=b+"\x3d"+a[b]});return d}function E(a){if(b.location.search){var d=
t(b.location.search);d.asin=a.asin;d.revisionId=a.revisionId;d.format=a.format;d.depth=a.depth;a=H(d)}else a=H(a);return"?"+a}function J(){var a="";b.location.search&&(a=t(b.location.search),delete a.asin,delete a.revisionId,delete a.format,delete a.depth,a=H(a));return"?"+a}var v={},p=!1,A=!1,G=!1,F=e("#ebooksReadSample"),I=new P(h,e,c);v.setupInteractions=function(){if(c&&c.litbData&&c.litbData.hasLitb){var a=document.getElementById("litb-read-frame");a&&a.dataset&&a.dataset.src?a.src=a.dataset.src:
c.litbData.showNewDesktopLitb&&l("litbReaderIframeSrcNotAvailable");c.litbData.showNewDesktopLitb&&a?(F.click(function(a){n(!0)}),b.addEventListener("popstate",m,!1),b.addEventListener("message",w,!1),f(),a=t(b.location.search),a.asin&&a.format&&n(!1)):F.click(function(a){u(!0)})}};var D=100,C=20,y=0,g=0,x=0;return v}}(),Z=function(){return function(h,e,c,f,n){function u(){var b=document.getElementById("litb-read-frame");if(b){if(G){b.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),
"*");return}b.contentWindow.postMessage(JSON.stringify({command:"readyLITB"}),"*");if(50<D)return;D++}setTimeout(u,100)}function m(b,c){C++;G?q(b,c):50<C?l("litbReadyMaxAttempts"):setTimeout(function(){m(b,c)},100)}function q(c){l("printReadSampleButtonClicked");I.incrementMetric("printReadSampleButtonClicked");var g=document.getElementById("litb-read-frame");f.litbData&&f.litbData.showNewDesktopLitb&&g?(c=JSON.stringify({command:"initializeLITB",time:Date.now(),search:b.location.search,newSession:c}),
g.contentWindow.postMessage(c,"*"),w(),g.focus()):b.location.href=f.litbData.litbReaderUrl}function r(){H()&&b.history.replaceState({},document.title,b.location.origin+b.location.pathname+B()+b.location.hash)}function B(){var c="";b.location.search&&(c=p(b.location.search),delete c.asin,delete c.revisionId,delete c.format,delete c.depth,c=v(c));return"?"+c}function z(c){var g=document.getElementById("litb-read-frame");g&&(g.style.cssText="display: none",g=document.body,g.style.position="",g.style.top=
"",g.style.right="",g.style.left="",b.scrollTo(0,parseInt(y||"0",10)),F=!1,c&&r())}function w(){var c=document.getElementById("litb-read-frame");if(c){y=b.scrollY;var e=document.body;e.style.position="fixed";e.style.top="-"+y+"px";e.style.right="0";e.style.left="0";c.style.cssText="position:fixed; width:100%; height:100%; top:0px; left:0px; z-index:1000; display: block; border: 0 none;";F=!0}}function t(){var c=document.getElementById("litb-read-frame");f.litbData&&f.litbData.showNewDesktopLitb&&
c&&(A||!H()&&!F||(w(),c.contentWindow.postMessage(JSON.stringify({command:"updateLITB",search:b.location.search}),c.src)),A=!1);F||r()}function H(){var c=p(b.location.search);return c.asin&&c.format}function E(c){var e;if(e="string"===typeof c.data)try{JSON.parse(c.data),e=!0}catch(a){e=!1}e&&(c=JSON.parse(c.data),e=c.command,"closeLITB"===e?c.depth?(A=!0,b.history.go(-1*c.depth),z(!1)):z(!0):"updateLITB"===e&&c.search?(e=p(b.location.search),b.history.pushState({},document.title,b.location.origin+
b.location.pathname+J(c.search)+b.location.hash),e.asin!==c.search.asin&&b.dispatchEvent(new PopStateEvent("popstate"))):"readyLITB"===e?G=!0:"reloadLITB"===e&&b.location.reload())}function J(c){if(b.location.search){var e=p(b.location.search);e.asin=c.asin;e.revisionId=c.revisionId;e.format=c.format;e.depth=c.depth;c=v(e)}else c=v(c);return"?"+c}function v(c){var b="";Object.keys(c).forEach(function(a){0<b.length&&(b+="\x26");b+=a+"\x3d"+c[a]});return b}function p(b){var c={};0<b.length&&b.substr(1).split("\x26").forEach(function(a){a=
a.split("\x3d");2===a.length&&(c[a[0]]=a[1])});return c}c={};var A=!1,G=!1,F=!1,I=new P(h,e,f),D=0,C=0,y=0;c.initializeMetrics=function(){k("litbReadyMaxAttempts");k("litbReaderIframeSrcNotAvailable");k(sitbReaderCodePathUsedMetric);k(litbStickerClickedMetric)};c.initializeSticker=function(c){if(f&&f.litbData&&(f.litbData.hasLitb&&f.litbData.litbReftag||f.litbData.showNewDesktopLitb)){n.click(m.bind(this,!0,c));var e=document.getElementById("litb-read-frame");e&&e.dataset&&e.dataset.src?e.src=e.dataset.src:
l("litbReaderIframeSrcNotAvailable");f.litbData.showNewDesktopLitb&&e?(b.addEventListener("popstate",t,!1),b.addEventListener("message",E,!1),u(),e=p(b.location.search),e.asin&&e.format&&m(!1,c)):n.click(q.bind(this,!0,c))}};return c}}();q.when("A","jQuery","MobileLitbImageBlockATF").execute(function(h,e,c){var f=new N(h,e,c);(function(){!b.smash&&c&&c.litbData&&c.litbData.hasLitb&&e("#sitb-sticker-container").click(function(c){f.triggerWeblab("LITB_EVO_PBOOK_MWEB_CLICK_ON_COVER_DPX_598270")})})()});
var N=function(){return function(b,e,c){function f(){var b=document.createElement("a");b.href=c.litbData.litbReaderUrl;return b.hostname}return{triggerWeblab:function(b){e.ajax("https://"+f()+"/sample/trigger-weblab?weblab\x3d"+b,{method:"get",xhrFields:{withCredentials:!0},success:function(b){return b.treatment},error:function(b){return"Unable to trigger weblab due to "+b.responseText}})}}}}(),aa={"read.amazon.com":{marketplace:"US",region:"us-east-1",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log"},
"read.amazon.co.jp":{marketplace:"JP",region:"us-west-2",katalCloudWatchEndpointEmf:"https://bs7kdk5kxb.execute-api.us-west-2.amazonaws.com/prod/v1/log"},"read.amazon.ca":{marketplace:"CA",region:"us-east-1",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"ler.amazon.com.br":{marketplace:"BR",region:"us-east-1",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read.amazon.com.au":{marketplace:"AU",region:"us-west-2",
katalCloudWatchEndpointEmf:"https://bs7kdk5kxb.execute-api.us-west-2.amazonaws.com/prod/v1/log"},"leer.amazon.com.mx":{marketplace:"MX",region:"us-east-1",katalCloudWatchEndpointEmf:"https://b11v5ewz9l.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read.amazon.co.uk":{marketplace:"GB",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"lesen.amazon.de":{marketplace:"DE",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},
"lire.amazon.fr":{marketplace:"FR",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"leggi.amazon.it":{marketplace:"IT",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"leer.amazon.es":{marketplace:"ES",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"lezen.amazon.nl":{marketplace:"NL",region:"eu-west-1",
katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read.amazon.in":{marketplace:"IN",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://hjszhb9uk3.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-preprod.amazon.com":{marketplace:"US",region:"us-east-1",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read-pre-prod-jp.amazon.com":{marketplace:"JP",region:"us-west-2",katalCloudWatchEndpointEmf:"https://arufknsm9d.execute-api.us-west-2.amazonaws.com/prod/v1/log"},
"read-pre-prod-ca.amazon.com":{marketplace:"CA",region:"us-east-1",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read-pre-prod-br.amazon.com":{marketplace:"BR",region:"us-east-1",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read-pre-prod-au.amazon.com":{marketplace:"AU",region:"us-west-2",katalCloudWatchEndpointEmf:"https://arufknsm9d.execute-api.us-west-2.amazonaws.com/prod/v1/log"},"read-pre-prod-mx.amazon.com":{marketplace:"MX",
region:"us-east-1",katalCloudWatchEndpointEmf:"https://wa9hufu4c9.execute-api.us-east-1.amazonaws.com/prod/v1/log"},"read-pre-prod-uk.amazon.com":{marketplace:"GB",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-pre-prod-de.amazon.com":{marketplace:"DE",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-pre-prod-fr.amazon.com":{marketplace:"FR",region:"eu-west-1",
katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-pre-prod-it.amazon.com":{marketplace:"IT",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-pre-prod-es.amazon.com":{marketplace:"ES",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"lezen-nl-preprod.dub.xcorp.amazon.com":{marketplace:"NL",region:"eu-west-1",
katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"},"read-pre-prod-in.amazon.com":{marketplace:"IN",region:"eu-west-1",katalCloudWatchEndpointEmf:"https://fdoxuxsenl.execute-api.eu-west-1.amazonaws.com/prod/v1/log"}},P=function(){return function(b,e,c){function f(){var b=document.createElement("a"),e=document.getElementById("litb-read-frame");e?b.href=e.src:c&&c.litbData&&(b.href=c.litbData.litbReaderUrl);return b.hostname}return{incrementMetric:function(b){try{var c=
aa[f()];c&&e.ajax({url:c.katalCloudWatchEndpointEmf,type:"POST",data:JSON.stringify(V(b,c)),success:function(b){return b},error:function(b){return"Unable to log metric due to "+b}})}catch(m){return"Failed to emit metrics to cloudwatch due to "+m}}}}}(),W={COUNT:"Count",MILLISECONDS:"Milliseconds",NONE:"None"}});